<!DOCTYPE html>
<html>
<head>
    <title>自动止盈止损配置</title>
</head>
<body>
    <h2>交易配置</h2>
    <form id="tradeForm">
        <label>标的代码: </label><input type="text" id="symbol" value="HK.MHI2501" required><br>
        <label>买入价格: </label><input type="number" id="price" required><br>
        <label>买入数量: </label><input type="number" id="qty" value="1" required><br>
        <label>止损偏移: </label><input type="number" id="stop_loss_offset" value="50" required><br>
        <label>止盈偏移: </label><input type="number" id="take_profit_offset" value="150" required><br>
        <button type="button" onclick="submitTrade()">提交交易</button>
    </form>

    <script>
        function submitTrade() {
            const data = {
                symbol: document.getElementById("symbol").value,
                price: parseFloat(document.getElementById("price").value),
                qty: parseInt(document.getElementById("qty").value),
                stop_loss_offset: parseFloat(document.getElementById("stop_loss_offset").value),
                take_profit_offset: parseFloat(document.getElementById("take_profit_offset").value)
            };

            fetch("http://192.168.59.6:5008/trade", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => alert(JSON.stringify(result)))
            .catch(error => console.error("Error:", error));
        }
    </script>
</body>
</html>
